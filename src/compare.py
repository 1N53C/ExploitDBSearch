import os

# Compare last and new search files and create file with found differences
def compare_files(file_old, file_new, s):
    content_old = read_file(file_old)
    content_new = read_file(file_new)

    # Create file with compared content
    open('compared_files/' + s + '.txt', 'w').close()

    with open('compared_files/' + s + '_compare.txt', 'w') as f:
        for line in list(content_old-content_new):
            f.write(line)

    check_output(s)

    # Removes unnecessary files that get created due to compare process
    os.system('sudo rm compared_files/' + s + '.txt')

# Read files
def read_file(input):
    with open(input, 'r') as f:
        return set(f.readlines())

# Check if compared files has changed
def check_output(s):
    if os.path.getsize('compared_files/' + s + '_compare.txt') > 0:
        print("File not empty")
    else:
        print("No changes detected")
